<!-- public/connect.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Connect Wallet â€“ PixelPup</title>
  <script>
  // Make CSRF available to modules early
  (async () => {
    try {
      const r = await fetch('/api/csrf', { credentials: 'include' });
      const j = await r.json();
      window.csrfToken = j.csrfToken;
    } catch {}
  })();
</script>

<!-- Load the Connect module -->
<script type="module" src="/assets/connect.bundle.js">

</script>


  <style>
    :root{
      --bg:#0b0f19; --panel:#111827; --text:#00ffc6; --text-dim:#7fffe6;
      --accent:#ffcc00; --accent-2:#ff3df7; --accent-3:#6ae3ff;
      --card-bg:#222638; --card-border:#3af5d9; --danger:#ff5577; --ok:#45ff99;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 800px at 50% -20%, #13203b 0%, #0b0f19 60%, #05070d 100%),
        linear-gradient(180deg, #0b0f19 0%, #05070d 100%);
      color:var(--text); padding:24px;
    }
    a{color:var(--accent-3); text-decoration:none}
    header{display:flex; align-items:center; justify-content:space-between; gap:16px; margin:0 auto 16px; max-width:1100px}
    nav{display:flex; gap:10px; flex-wrap:wrap}
    .brand{display:flex; align-items:center; gap:10px; letter-spacing:.5px; text-shadow:0 0 10px rgba(0,255,198,.6)}
    .brand-badge{width:36px;height:36px;border-radius:10px;border:2px solid var(--card-border);
      box-shadow:0 0 14px rgba(0,255,198,.2); display:grid; place-items:center;
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); font-weight:700; color:var(--accent)}
    .btn{appearance:none; border:0; cursor:pointer; padding:10px 14px; border-radius:12px; color:#000; background:var(--accent);
      box-shadow:0 3px 0 #b59000, 0 0 12px rgba(255,204,0,.35); font-weight:700; letter-spacing:.2px;
      display:inline-flex; align-items:center; gap:8px; font-size:12px}
    .btn-primary{background:var(--accent-2); color:#120016; box-shadow:0 3px 0 #a2259c, 0 0 14px rgba(255,61,247,.35)}
    .btn-ghost{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); color:var(--text);
      border:1px solid rgba(58,245,217,.35); box-shadow:0 0 12px rgba(0,255,198,.18) inset,0 0 12px rgba(0,255,198,.12)}
    .wrap{max-width:1100px; margin:0 auto}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.01));
      border:1px solid rgba(58,245,217,.3); border-radius:16px; padding:16px; backdrop-filter:blur(4px);
      box-shadow:0 0 24px rgba(0,255,198,.06) inset, 0 0 24px rgba(0,255,198,.08)}
    .hero{display:grid; gap:12px; text-align:center; padding:24px}
    .cta{display:flex; justify-content:center; gap:12px; flex-wrap:wrap}
    .grid{display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); margin-top:12px}
    .readout{color:var(--text-dim); font-size:12px}
    footer{opacity:.9; color:var(--text-dim); font-size:12px; text-align:center; padding:14px 0 6px; margin-top:24px}
    /* Priorities + tidy header layout */
.header-bar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.header-nav{display:flex;gap:8px;flex-wrap:wrap}
.header-actions{display:flex;gap:8px;align-items:center}

/* Compact icon buttons for socials */
.btn-icon{padding:8px 10px}
.btn-icon svg{width:18px;height:18px;margin:0}

/* Telegram brand (matches your other pages) */
.btn-telegram{
  background: var(--accent-3);
  box-shadow: 0 3px 0 #2aa7bf, 0 0 14px rgba(106,227,255,.35);
  color:#021018;
}

/* Make the hero CTA stand out a bit more */
.cta .btn-primary{transform:translateZ(0); box-shadow:0 4px 0 #a2259c,0 0 18px rgba(255,61,247,.45)}
nav.kk-nav{
  position:sticky; top:0;
  display:flex; gap:.5rem; align-items:center;
  padding:.5rem .75rem;
  background:#111; color:#fff;
  border-bottom:1px solid #333; z-index:1000;
}
nav.kk-nav a{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.4rem .7rem; border-radius:.5rem; text-decoration:none;
  background:#222; color:#fff; font-weight:600;
}
nav.kk-nav a:hover{ background:#2a2a2a; }

</style>
</head>
<body>
  <header>
    <nav>
      <a class="btn btn-ghost" href="/play.html">Poker</a>
      <a class="btn btn-ghost" href="/blackjack.html">Blackjack</a>
    </nav>
    <div class="brand"><div class="brand-badge">KK</div><h1>Connect Wallet</h1></div>
  </header>

  <main class="wrap panel">
    <p class="readout">Create or import a wallet. Your seed is encrypted locally; the server never sees it.</p>

    <div class="controls">
      <select id="net">
        <option value="mainnet">Mainnet</option>
      </select>
      <label>Password (min 8)</label>
<input id="pass" type="password" minlength="8" required />
<label>Confirm password</label>
<input id="pass2" type="password" minlength="8" required />
<small id="passHint" hidden>Passwords must match and be 8+ chars</small>
    </div>

    <div class="controls">
      <button id="btnCreate" class="btn btn-primary">Create Wallet</button>
      <button id="btnImport" class="btn">Import Seed (12 words)</button>
    </div>

    <div id="importArea" class="panel" hidden>
      <textarea id="seedIn" rows="3" placeholder="twelve words..." style="width:100%"></textarea>
      <button id="btnDoImport" class="btn">Use Seed</button>
    </div>

    <div id="linked" class="panel" hidden>
      <p id="addr" class="readout"></p>
      <button id="btnLink" class="btn">Link to my account</button>
    </div>
  </main>
</body>
</html>